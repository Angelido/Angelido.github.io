:root{
  --radius:14px;
  --maxw:1200px;
  --shadow:0 10px 30px rgba(0,0,0,.25);

  /* fallback (stessi del tema light) */
  --bg:     #F5FAFF;
  --panel:  #FFFFFF;
  --text:   #111827;
  --muted:  #6B7280;
  --brand:  #2563EB;
  --accent: #059669;
}

/* LIGHT THEME ‚Äì Soft Blue minimal */
html[data-theme="light"]{
  --bg: #f5f7fa;        /* sfondo generale chiaro e neutro */
  --panel: #ffffff;     /* pannelli e topbar */
  --text: #1f2937;      /* testo principale (grigio profondo) */
  --muted: #6b7280;     /* testo secondario */
  --brand: #2563eb;     /* blu moderno per bottoni */
  --accent: #1d9d74;    /* verde elegante (solo per eventuali accenti) */
}

/* DARK THEME ‚Äì Minimal Gemini */
html[data-theme="dark"]{
  --bg: #1a1b1e;       /* sfondo principale (grigio-nero, non puro) */
  --panel: #232427;    /* topbar/pannelli leggermente pi√π chiari per stacco */
  --text: #f5f5f5;     /* testo principale (quasi bianco) */
  --muted: #a0a0a5;    /* testo secondario (grigio tenue) */
  --brand: #4fc3f7;    /* azzurro ‚ÄúGemini‚Äù per bottoni */
  --accent: #82b1ff;   /* blu acceso per piccoli accenti */
}

/* Nasconde le scrollbar ma lascia lo scroll funzionante */
html{
  scrollbar-width: none;        /* Firefox */
}

html::-webkit-scrollbar{
  width: 0;
  height: 0;                    /* Chrome / Edge / Safari */
}

html,body{height:100%}

body{
  margin:0;
  background: var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  line-height:1.6;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

/* fai crescere il main per ‚Äúspingere‚Äù il footer in basso */
main{
  flex:1;
}


/* main prende tutto lo spazio verticale disponibile tra topbar e footer */
main{
  flex:1;
  width:100%;
}

/* LIGHT: alone solo blu, niente verdino */
html[data-theme="light"] body{
  background:
    var(--bg);
}

html[data-theme="dark"] body{
  background: var(--bg); /* piatto, elegante */
}

img{max-width:100%;display:block}

/* === Layout base: DESKTOP-FIRST === */
.container{width:min(100% - 2.5rem,var(--maxw));margin-inline:auto}
.row{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}
.space-between{justify-content:space-between}
.grid{display:grid;gap:1rem}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.two-col{display:grid;grid-template-columns:1.2fr .8fr;gap:2rem}

.brand{font-weight:800;letter-spacing:.3px}
.nav{display:flex;align-items:center;justify-content:space-between;padding:1rem 0}
.nav-links{display:flex;align-items:center;gap:1rem}
.menu-btn{border:1px solid rgba(255,255,255,.18);background:transparent;border-radius:10px;padding:.5rem .7rem}
.mobile-menu{display:none;padding:.6rem 0 1rem}
.mobile-menu a{display:block;padding:.4rem 0}
.site-header{
  position:sticky;
  top:0;
  z-index:40;
  background:var(--bg); /* stessa base del resto della pagina */
  border-bottom:1px solid rgba(15,23,42,.06);
  backdrop-filter:blur(4px);
}
html[data-theme="dark"] .site-header{
  border-bottom-color:rgba(255,255,255,.08);
}

/* ===== FOOTER ================================================== */
.site-footer{
  margin-top:2rem;
  border-top:1px solid rgba(0,0,0,.04);
  padding:.9rem 0;
  color:var(--muted);
  background:var(--panel);
  font-size:.9rem;
}

html[data-theme="dark"] .site-footer{
  border-top-color:rgba(255,255,255,.08);
}

.footer-content{
  display:grid;
  grid-template-columns: auto 1fr auto;
  align-items:center;
  gap:.7rem;
}

.footer-center{
  text-align:center;
}

.footer-center small{
  color:var(--muted);
  font-size:.8rem;
}


/* Icone social nel footer (colori originali) */
.footer-left{
  display:flex;
  align-items:center;
  gap:.5rem;
}

.footer-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:26px;
  height:26px;
  border-radius:6px;
  transition:transform .18s ease, opacity .18s ease;
}

.footer-icon img{
  width:20px;
  height:20px;
  opacity:.85;
}

/* GitHub: bianco in dark mode, nero in light */
html[data-theme="dark"] .footer-icon img.github-icon{
  filter:invert(1);
}

.footer-icon:hover img{
  opacity:1;
  transform:scale(1.05);
}

.footer-right{
  display:flex;
  align-items:center;
  gap:.4rem;           /* piccolo gap base */
}

.footer-link{
  color:var(--muted);
  text-decoration:none;
  font-weight:500;
  transition:color .2s ease;
  margin-left:1.2rem;  /* sposta Privacy pi√π a destra rispetto al nome */
}

.footer-link:hover{
  color:var(--brand);
}




.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.1rem;border-radius:calc(var(--radius) - 4px);background:var(--brand);color:#fff;border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow);font-weight:600;text-decoration:none}
.btn:hover{text-decoration:none;filter:brightness(1.05)}
.btn-outline{background:transparent;color:var(--text);box-shadow:none}
.badge{display:inline-block;padding:.3rem .6rem;border-radius:999px;background:rgba(79,70,229,.14);color:#cdd0ff;font-weight:600;font-size:.85rem}
.card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow)}

/* Hero e tipografia (desktop base) */
.hero{padding:4.5rem 0 3rem}
.hero h1{font-size:clamp(2.2rem,2.5vw,3rem);line-height:1.15;margin:.2rem 0}
.kicker{color:var(--muted);font-size:1rem}
.section{margin:2.2rem 0}

/* Liste, timeline e pubblicazioni */
.list{display:grid;gap:.9rem}
.timeline{position:relative}
.timeline::before{content:"";position:absolute;left:.5rem;top:0;bottom:0;width:2px;background:rgba(255,255,255,.15)}
.tl-item{position:relative;padding-left:2rem}
.tl-dot{position:absolute;left:.2rem;top:.4rem;width:.7rem;height:.7rem;border-radius:50%;background:var(--accent)}
.pub-card{display:grid;gap:.35rem;padding:1rem;border:1px solid rgba(255,255,255,.08);border-radius:12px}
.pub-meta{color:var(--muted);font-size:.98rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;margin:.6rem 0}
.input{padding:.6rem .8rem;border-radius:10px;border:1px solid rgba(255,255,255,.16);background:rgba(17,19,26,.6);color:var(--text)}
.tags{display:flex;flex-wrap:wrap;gap:.4rem}
.tag{padding:.25rem .55rem;border:1px solid rgba(255,255,255,.2);border-radius:999px;font-size:.85rem;color:#cfe7d7}

/* === Adattamento MOBILE (< 900px) === */
@media(max-width:900px){
  .container{width:min(100% - 1.5rem,var(--maxw))}
  .hero{padding:3rem 0 2rem}
  .two-col{grid-template-columns:1fr;gap:1.2rem}
  .grid-3{grid-template-columns:1fr}
  .nav-links{gap:.8rem}
  .hero h1{font-size:clamp(1.8rem,6vw,2.4rem)}
}

/* ===== TOPBAR =================================================== */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  width:100%;
  background: var(--panel);
  border-bottom: 1px solid rgba(0,0,0,.08);
}

/* interno topbar: full-width, con padding ai lati */
.topbar-inner{
  display:flex;
  justify-content:space-between;   /* sinistra e destra agli estremi */
  align-items:center;
  padding:.7rem 1.4rem;            /* distanza dal bordo finestra */
  max-width:100%;                  /* niente max-width come la .container */
}

html[data-theme="dark"] .topbar{
  border-bottom-color: rgba(255,255,255,.12);
}

/* Sinistra: hamburger + brand + nav */
.topbar-left{
  display:flex;
  align-items:center;
  gap:1.2rem;
}

/* Destra: lingua + tema, sempre allineati a destra */
.topbar-right{
  display:flex;
  align-items:center;
  gap:.5rem;
}


/* Nome in topbar in stile minimal, come Gemini */
.brand-link{
  font-size:1.3rem;
  font-weight:700;
  letter-spacing:-0.02em;
  text-decoration:none;
  white-space:nowrap;
  color:var(--brand);
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  transition: opacity .2s ease, transform .2s ease;
}

.brand-link:hover{
  opacity:.85;
  transform: translateY(-1px);
}

/* Dark: nome bianco pulito, non blu */
html[data-theme="dark"] .brand-link{
  color:#f5f5f5;
}

/* Bottoni principali */
.btn{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.75rem 1.1rem;
  border-radius:calc(var(--radius) - 4px);
  background:var(--brand);     /* colore pieno */
  color:#fff;
  border:none;
  box-shadow:0 3px 10px rgba(0,0,0,.15);
  font-weight:600;
  text-decoration:none;
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

.btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.08);
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

/* Menu principale (desktop) */
.primary-nav{
  display:flex;
  align-items:center;
  gap:.75rem;
}

.nav-item{
  font-size:.9rem;
  font-weight:600;
  text-decoration:none;
  color:var(--muted);
  padding:.25rem .7rem;
  border-radius:999px;
  border:1px solid transparent;
  transition:background .15s ease, color .15s ease, border-color .15s ease;
}

.nav-item:hover{
  color:var(--text);
  border-color:rgba(0,0,0,.08);
}

html[data-theme="dark"] .nav-item:hover{
  border-color:rgba(255,255,255,.16);
}

/* Link attivo (pagina corrente) */
.nav-item.active{
  color:#ffffff;
  background:var(--brand);
  border-color:transparent;
}

html[data-theme="dark"] .nav-item.active{
  color:#0b1120;
}

/* Bottone hamburger (solo mobile) */
.nav-toggle{
  display:none;                  /* di default nascosto (desktop) */
  align-items:center;
  justify-content:center;
  flex-direction:column;         /* <<< le linee vanno in colonna */
  width:34px;
  height:34px;
  border-radius:999px;
  border:1px solid transparent;
  background:transparent;
  padding:0;
  cursor:pointer;
}

.nav-toggle span{
  display:block;
  width:18px;
  height:2px;
  border-radius:999px;
  background:#64748b;
  margin:2px 0;                  /* spazio verticale tra le linee */
  transition:transform .18s ease, opacity .18s ease;
}

html[data-theme="dark"] .nav-toggle span{
  background:#e5e7eb;
}


/* Menu mobile a tendina */
.mobile-nav{
  position:fixed;
  top:60px;       /* circa l‚Äôaltezza della topbar */
  left:0;
  right:0;
  background:var(--panel);
  border-bottom:1px solid rgba(15,23,42,.08);
  padding:.6rem 1.25rem 1rem;
  display:none;
  flex-direction:column;
  gap:.35rem;
  z-index:40;
}

html[data-theme="dark"] .mobile-nav{
  border-bottom-color:rgba(255,255,255,.12);
}

.mobile-nav .nav-item{
  width:max-content;
}

/* Stato aperto */
.mobile-nav.open{
  display:flex;
}


.topbar-btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.35rem .55rem;
  background: transparent;
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 10px;
  cursor: pointer;
  color:#4b5563;                 /* colore icona in LIGHT */
}
html[data-theme="dark"] .topbar-btn{
  border-color: rgba(255,255,255,.18);
  color:#ffffff;                 /* icona bianca in DARK */
}
/* Bottone tema ‚Äúinvisibile‚Äù (solo icona) + colori moderni */
.theme-btn{
  border:none;
  background:transparent;
  padding:.25rem;
  cursor:pointer;

  /* colore icona in LIGHT: ‚Äúnero vetro‚Äù */
  color:#020617; /* quasi nero, molto profondo */
}

/* Effetto ‚Äúriflesso‚Äù/glow sulla icona tema */
.theme-btn .sunmoon{
  filter: drop-shadow(0 1px 2px rgba(15,23,42,.20));
}

html[data-theme="dark"] .theme-btn .sunmoon{
  filter: drop-shadow(0 0 6px rgba(248,245,236,.35));
}


html[data-theme="dark"] .theme-btn{
  border:none;
  /* colore icona in DARK: ‚Äúavorio‚Äù caldo */
  color:#f8f5ec;
}

/* Focus tastiera: solo piccolo alone */
.theme-btn:focus-visible{
  outline:2px solid var(--brand);
  outline-offset:2px;
}


.lang-switch{
  position:relative;
}

.lang-btn{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
}

.lang-btn .flag{
  font-size:1rem;
}

.lang-btn .chevron{
  font-size:.7rem;
  opacity:.7;
  margin-left:.1rem;
}

.lang-menu{
  position:absolute;
  top:115%;
  right:0;
  background: var(--panel);
  border-radius:10px;
  border:1px solid rgba(0,0,0,.12);
  padding:.35rem;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:.25rem;
  min-width:90px;
  z-index:100;
}

html[data-theme="dark"] .lang-menu{
  border-color: rgba(255,255,255,.18);
}

.lang-menu[aria-hidden="true"]{
  display:none;
}

.lang-item{
  display:flex;
  align-items:center;
  gap:.4rem;
  width:100%;
  padding:.35rem .6rem;
  border-radius:8px;
  background:transparent;
  border:1px solid transparent;
  color:var(--text);
  cursor:pointer;
  font-size:.9rem;
}

.lang-item .flag{
  font-size:1rem;
}

.lang-item.active{
  border-color: var(--brand);
}


/* ===== SUN ‚Üî MOON (SVG mask) =================================== */
.sunmoon{
  display:block;
  width:20px;          /* larghezza icona */
  height:20px;         /* altezza icona */
  transition: transform .35s ease;
}
.sunmoon .sunCore{ transition: transform .40s ease, opacity .40s ease; }
.sunmoon .rays{ transition: opacity .35s ease; }
.sunmoon .raysDiag{ transition: opacity .35s ease; }     /* NEW */
.sunmoon .crescent{ transition: opacity .35s ease; }
.sunmoon .cutout{ transition: cx .40s ease, cy .40s ease, r .40s ease; }
/* piccoli rettangoli (cardinali) netti sui pixel */
.sunmoon rect{ shape-rendering: crispEdges; }

/* LIGHT: sole pieno; raggi visibili (cardinali + diagonali); luna invisibile */
html[data-theme="light"] .sunmoon{ transform: rotate(0deg); }
html[data-theme="light"] .sunmoon .sunCore{ transform: scale(1); opacity: 1; }
html[data-theme="light"] .sunmoon .rays{ opacity: 1; }
html[data-theme="light"] .sunmoon .raysDiag{ opacity: 1; }   /* NEW */
html[data-theme="light"] .sunmoon .crescent{ opacity: 0; }
html[data-theme="light"] .sunmoon .cutout{ cx: 28px; cy: -4px; r: 9px; }

/* DARK: luna visibile; raggi spenti (tutti) */
html[data-theme="dark"] .sunmoon{ transform: rotate(18deg); }
html[data-theme="dark"] .sunmoon .sunCore{ transform: scale(.95); opacity: .9; }
html[data-theme="dark"] .sunmoon .rays{ opacity: 0; }
html[data-theme="dark"] .sunmoon .raysDiag{ opacity: 0; }    /* NEW */
html[data-theme="dark"] .sunmoon .crescent{ opacity: 1; }
html[data-theme="dark"] .sunmoon .cutout{ cx: 14px; cy: 10px; r: 9px; }

/* ===== HERO CENTRALE ============================================ */


html[data-theme="dark"] .hero-avatar{
  border-color:rgba(255,255,255,.08);
  box-shadow:0 10px 30px rgba(0,0,0,.7);
}

/* ===== HERO HOME A DUE COLONNE (HOME) ========================== */



/* Safety: niente scroll orizzontale per piccoli overflow */
html, body{ overflow-x: hidden; }


html, body{
  overflow-x: hidden;
}


.about-body{
  margin:0;
  font-size:1.05rem;
  line-height:1.8;
  color:var(--text);
}
/* =========================================================
   HOME FULL SCREEN (DESKTOP): sticky L/R + pi√π spazio a destra
   Obiettivo: sinistra 20% - centro 55% - destra 25%
========================================================= */

.about-body p{
  margin:0 0 .9rem;
}

.about-body strong{
  font-weight:600;
}



/* Default: avatar (usato dove serve) */
.hero-avatar{
  width:190px;
  height:190px;
  margin:0 0 1.2rem;
  border-radius:50%;
  overflow:hidden;
  border:3px solid rgba(0,0,0,.06);
  box-shadow:0 10px 30px rgba(15,23,42,.18);
}


.hero-name{
  font-size:clamp(2.1rem,3vw,2.7rem);
  margin:0 .5rem;
  font-weight:800;
  letter-spacing:.04em;
}

/* Tutte e tre le righe (PhD, Dip, Uni) */
.hero-role,
.hero-affil-line{
  margin: 0;
  padding: 0;
  color: var(--muted);
  line-height: 1.25;
}

/* PhD leggermente pi√π grande */
.hero-role{
  font-size: 1rem;
}

/* Dip e Uni leggermente pi√π piccole */
.hero-affil-line{
  font-size: .95rem;
}

/* Spacing uniforme ‚Äî pi√π compatto */
.hero-role,
.hero-affil-line{
  margin-top: .28rem;          /* üí° accorciato: pi√π elegante */
}

/* Prima riga dopo il nome */
.hero-name + .hero-role{
  margin-top: .30rem;
}

/* Prima riga dell'affiliazione */
.hero-role + .hero-affil .hero-affil-line:first-child{
  margin-top: .30rem;
}


.hero-tagline{
  margin:.4rem 0 1.1rem;
  font-size:.9rem;
  color:var(--muted);
}

.social-row{
  display:flex;
  justify-content:center;
  gap:.7rem;
  margin-top: 1rem;         /* üî• AGGIUNTO ‚Äî separa il blocco */
  margin-bottom:1.8rem;     /* leggermente pi√π aria sotto */
}

/* ===== SAFETY: niente overflow per padding/border ===== */
*, *::before, *::after{
  box-sizing: border-box;
}



/* Bottoni social */
.icon-btn{
  width:50px;
  height:50px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.12);
  background:var(--panel);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--brand);
  box-shadow:0 3px 8px rgba(0,0,0,.12);
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease, background .25s ease;
}

.icon-btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.1);
  box-shadow:0 6px 14px rgba(0,0,0,.18);
}

/* Modalit√† dark: sfondo bianco per visibilit√† icone */
html[data-theme="dark"] .icon-btn{
  background:#ffffff;          /* bianco pieno per contrasto */
  border-color:rgba(255,255,255,.2);
  color:#000000;               /* colore di fallback per eventuali SVG neri */
}

.icon-btn img{
  width:20px;
  height:20px;
  display:block;
  filter:none;
}

/* Opzionale: leggera trasparenza hover in dark mode */
html[data-theme="dark"] .icon-btn:hover{
  background:#f2f2f2;
}

.icon-text{
  font-size:.9rem;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.06em;
}

/* ===========================
   Social buttons: wide (desktop list) + mobile icons
=========================== */

/* --- Desktop list item: circle icon + label (no overlap) --- */
.icon-btn--wide{
  width:100%;
  height:42px;                 /* riga fissa, niente sovrapposizioni */
  border-radius:999px;         /* resta circolare/rounded come gli altri */
  justify-content:flex-start;
  align-items:center;          /* centra verticalmente logo + testo */
  gap:.6rem;
  padding:0 .85rem 0 .55rem;   /* spazio a dx per testo */
  text-decoration:none;
}

.icon-btn--wide img{
  width:18px;                  /* logo pi√π piccolo in desktop */
  height:18px;
  flex:0 0 auto;
}

.icon-label{
  display:inline-block;
  font-size:.92rem;
  font-weight:600;
  color:var(--text);
  line-height:1;               /* evita ‚Äúsalti‚Äù verticali */
  overflow:hidden;             /* niente sovrapposizioni */
  text-overflow:ellipsis;
  white-space:nowrap;          /* niente a capo */
}


.social-item{
  display:flex;
  align-items:center;        /* centro verticale PERFETTO */
  gap:.7rem;
}

/* Testo a destra dell‚Äôicona */
.social-text{
  font-size:.92rem;
  font-weight:600;
  color:var(--text);
  text-decoration:none;
  white-space:nowrap;
}

.social-text:hover{
  text-decoration:underline;
}

/* ===== CV PAGE ================================================== */

.cv-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:1.5rem;
  margin-top:1.4rem;
}

.cv-card h2{
  margin-top:0;
  margin-bottom:.5rem;
}

.cv-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  margin-bottom:.8rem;
}

/* Box di anteprima PDF */
.cv-preview{
  border-radius:var(--radius);
  border:1px solid rgba(0,0,0,.08);
  background:#ffffff;
  overflow:hidden;
  height:520px;              /* altezza visibile dell'anteprima */
  margin-top:.4rem;
}

html[data-theme="dark"] .cv-preview{
  border-color:rgba(255,255,255,.14);
  background:#111827;
}

.cv-iframe{
  width:100%;
  height:100%;
  border:none;
}


/* =========================
   HOME UPGRADE: divider + about card + focus pills
========================= */

/* Ombra pi√π soft per componenti "modern" */
:root{
  --shadow-soft: 0 10px 28px rgba(0,0,0,.12);
}



/* ===== RIGHT PANELS (Home) ===================================== */


.side-kicker{
  font-size: .72rem;
  font-weight: 750;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: .35rem;
}

.side-title{
  font-size: 1.02rem;
  font-weight: 800;
  letter-spacing: -0.01em;
  margin-bottom: .25rem;
  display:flex;
  align-items:center;
  gap:.45rem;
}

.side-title::before{
  content:"";
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--brand);
  display:inline-block;
  opacity:.95;
}

.side-text{
  font-size: .92rem;
  line-height: 1.35;
  color: var(--text);
  opacity: .92;
}

/* =========================================================
   HOME (CLEAN REWRITE)
   - Default = MOBILE (1 colonna, tutto centrato)
   - Switch NETTO = DESKTOP (30/40/30) sopra --home-switch
   - Nessuna "terza versione" perch√© usiamo UN SOLO breakpoint
========================================================= */

:root{
  /* Cambia SOLO questo numero per decidere quando scatta il desktop */
  --home-switch: 1100px;

  /* Sticky offset: altezza topbar (se cambia, cambia qui) */
  --topbar-h: 72px;

  /* Spazi home */
  --home-gap-mobile: 22px;
  --home-gap-desktop: clamp(18px, 2.2vw, 34px);

  /* Card polish */
  --card-border: rgba(0,0,0,.08);
  --card-bg: rgba(255,255,255,.68);
  --card-shadow: 0 14px 34px rgba(0,0,0,.10);
}

/* Dark tuning card */
html[data-theme="dark"]{
  --card-border: rgba(255,255,255,.10);
  --card-bg: rgba(35,36,39,.70);
  --card-shadow: 0 18px 46px rgba(0,0,0,.45);
}

/* Safety */
*, *::before, *::after{ box-sizing: border-box; }
html, body{ overflow-x: hidden; }

/* ---------------------------
   HOME: MOBILE DEFAULT (sempre)
   1 colonna, tutto centrato, niente sticky, niente linee verticali
---------------------------- */

.hero-home{
  width: 100%;
  margin: 0;

  display: grid;
  grid-template-columns: 1fr;
  row-gap: var(--home-gap-mobile);

  justify-items: center;  /* centra i blocchi (left/center/right) */
  align-items: start;
}

/* Spegniamo sticky di default (mobile) */
.hero-left,
.hero-center,
.hero-side{
  position: static;
  top: auto;
  width: 100%;
  min-width: 0;
}

/* LEFT: centra DAVVERO tutto (foto + testo + bottoni) */
.hero-left{
  max-width: 560px;
  margin-inline: auto;

  display: flex;
  flex-direction: column;
  align-items: center;   /* <<< centra foto e bottoni */
  text-align: center;    /* <<< centra i testi */
}

/* Avatar centrato in mobile */
.hero-left .hero-avatar{
  margin: 0 auto 1.2rem;
}

/* Social row centrata */
.hero-left .social-row{
  justify-content: center;
}

/* Se usi social wide (icona + label) rendili "belli" in mobile */
.hero-left .icon-btn--wide{
  width: auto;
  min-width: 220px;
  justify-content: center;
}

/* CENTER: about card con aria sotto (spazio reale per evitare ‚Äúincastro‚Äù) */
.hero-center{
  max-width: 560px;
  margin-inline: auto;
  padding: 0;
}

/* Nessuna linea verticale in mobile */
.hero-center::before,
.hero-center::after{
  display: none !important;
}

/* About card: pi√π bella in mobile e con stacco */
.about-card{
  border-radius: calc(var(--radius) + 6px);
  border: 1px solid var(--card-border);
  background: var(--card-bg);
  box-shadow: var(--card-shadow);
  backdrop-filter: blur(10px);

  padding: 1.25rem 1.25rem 1.05rem;

  /* Questo risolve il tuo punto (manca spazio verticale) */
  margin-bottom: 18px;
}

/* Titolo e testo */
.about-title{
  margin: 0 0 .85rem;
  letter-spacing: -0.02em;
  font-weight: 850;
}

.about-body{
  margin: 0;
  line-height: 1.8;
}

/* RIGHT: pannelli sotto l‚Äôabout, con aria e look migliore */
.hero-side{
  max-width: 560px;
  margin-inline: auto;

  /* Questo + margin-bottom dell‚Äôabout garantiscono spazio visivo */
  margin-top: 8px;

  display: flex;
  justify-content: center;
}

/* Contenitore pannelli */
.side-panel{
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: center;
}

/* Card pannelli: centrata + pi√π ‚Äúpremium‚Äù */
.side-card{
  width: 100%;
  border-radius: 16px;
  border: 1px solid var(--card-border);
  background: var(--card-bg);
  box-shadow: var(--card-shadow);
  backdrop-filter: blur(10px);
  padding: 1.05rem 1.1rem;

  text-align: center;

  /* Piccolo effetto ‚Äústack‚Äù */
  transform: translateY(0);
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
}

.side-card:hover{
  transform: translateY(-2px);
  filter: brightness(1.02);
}

/* Titoli pannelli centrati */
.side-title{
  display: flex;
  justify-content: center;
  align-items: center;
  gap: .45rem;
  margin-bottom: .25rem;
}

/* Pallino prima del titolo (se lo vuoi) */
.side-title::before{
  content:"";
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: var(--brand);
  opacity: .95;
}

/* Subtitolo/piccolo kicker */
.side-kicker{
  text-transform: uppercase;
  letter-spacing: .10em;
  font-weight: 800;
  font-size: .72rem;
  color: var(--muted);
  margin-bottom: .35rem;
}

/* Testo pannelli */
.side-text{
  opacity: .92;
  line-height: 1.35;
}

/* ---------------------------
   HOME: DESKTOP (switch unico)
   30 / 40 / 30, sticky, linee verticali
---------------------------- */
@media (min-width: 1100px){

  .hero-home{
    width: 100vw;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);

    display: grid;
    grid-template-columns: 2fr 5fr 2fr; /* 30 / 40 / 30 */
    column-gap: var(--home-gap-desktop);
    align-items: start;

    padding-left: clamp(14px, 2.0vw, 28px);
    padding-right: clamp(14px, 2.0vw, 28px);
  }

  .hero-left{
    position: sticky;
    top: var(--topbar-h);
    justify-self: center;

    max-width: 420px;

    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .hero-center{
    position: relative;
    justify-self: center;

    max-width: 860px;
    padding: 0 2.2rem;
  }

  /* Linee verticali SOLO desktop */
  .hero-center::before,
  .hero-center::after{
    content:"";
    position:absolute;
    top: .6rem;
    bottom: .6rem;
    width: 1px;
    opacity: 1;
  }

  .hero-center::before{
    left: 0;
    background: linear-gradient(
      to bottom,
      rgba(15,23,42,0),
      rgba(15,23,42,.10),
      rgba(15,23,42,0)
    );
  }

  .hero-center::after{
    right: 0;
    background: linear-gradient(
      to bottom,
      rgba(15,23,42,0),
      rgba(15,23,42,.10),
      rgba(15,23,42,0)
    );
  }

  html[data-theme="dark"] .hero-center::before,
  html[data-theme="dark"] .hero-center::after{
    background: linear-gradient(
      to bottom,
      rgba(255,255,255,0),
      rgba(255,255,255,.14),
      rgba(255,255,255,0)
    );
  }

  .hero-side{
    position: sticky;
    top: var(--topbar-h);
    justify-self: center;

    max-width: 520px;
    padding-bottom: 2.2rem;

    margin-top: 0; /* in desktop non serve */
  }

  /* In desktop non serve stacco extra sotto about */
  .about-card{
    margin-bottom: 0;
  }
}

/* =========================================================
   DESKTOP (>=1100): icone PERFETTAMENTE CENTRATE in hero-left
   testo sempre a destra, allineamento stabile
========================================================= */
@media (min-width: 1100px){

  /* Lista verticale */
  .hero-left .social-row{
    display:flex;
    flex-direction:column;
    gap:10px;
    width:100%;
    align-items:stretch; /* <-- fondamentale: niente left/center qui */
  }

  /*
    Ogni bottone:
    [spazio] [ICONA] [TESTO]
    L'icona √® SEMPRE al centro della riga, quindi al centro di hero-left
  */
  .hero-left .icon-btn--wide{
    width: min(420px, 100%);  /* regola solo la larghezza del bottone */
    margin-inline: auto;      /* centra l‚Äôintero bottone in hero-left */

    display:grid;
    grid-template-columns: 1fr 42px 1fr; /* 42px = colonna icona */
    align-items:center;
    column-gap:.65rem;

    height:42px;
    padding:0 .85rem;
  }

  /* icona: colonna centrale, centrata */
  .hero-left .icon-btn--wide img{
    grid-column:2;
    justify-self:center;
  }

  /* testo: colonna destra, parte subito dopo l‚Äôicona */
  .hero-left .icon-label{
    grid-column:3;
    justify-self:start;
    text-align:left;

    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
}

/* =========================================================
   HOME ‚Äì MOBILE: bottoni/social IN ORIZZONTALE, SOLO ICONE
========================================================= */
@media (max-width: 1099px){
  .hero-left .social-row{
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 10px;
    width: auto;
    max-width: none;
  }

  .hero-left .icon-btn--wide{
    width: 38px;
    height: 38px;
    min-width: 0;
    padding: 0;
    border-radius: 999px;
    justify-content: center;
  }

  .hero-left .icon-btn--wide img{
    width: 18px;
    height: 18px;
  }

  .hero-left .icon-label{
    display: none !important;
  }
}



/* =========================================================
   HOME ‚Äì MOBILE: pannelli che si allargano col viewport
========================================================= */
@media (max-width: 1099px){
  .hero-left,
  .hero-center,
  .hero-side{
    width: 100%;
    max-width: min(920px, calc(100% - 24px)); /* <<< si allarga fino a 920 */
    padding-inline: 0;
    margin-inline: auto;
  }

  .about-card,
  .side-card{
    width: 100%;
  }
}

/* =========================================================
   TOPBAR ‚Äì MOBILE: hamburger a sinistra + nav a tendina
========================================================= */
@media (max-width: 768px){
  .primary-nav{ display: none !important; }
  .nav-toggle{ display: inline-flex !important; }

  .mobile-nav{
    top: 52px;
    left: 0;
    right: 0;
  }
}

/* =========================================================
   DESKTOP (>=1100): BOTTONI centrati come blocco + icona centrata
========================================================= */
@media (min-width: 1100px){

  /* centra i bottoni nella colonna sinistra */
  .hero-left .social-row{
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:center !important;     /* üî• questo centra i bottoni */
  }

  /* bottone: NON deve essere width:100% */
  .hero-left .icon-btn--wide{
    width: 360px !important;           /* scegli tu: 320/340/360 */
    max-width: calc(100% - 24px) !important;
    margin: 0 auto !important;

    display:grid !important;
    grid-template-columns: 1fr 42px 1fr;
    align-items:center;
    column-gap:.65rem;

    justify-content: initial !important; /* neutralizza flex-start */
  }

  .hero-left .icon-btn--wide img{
    grid-column:2;
    justify-self:center;
  }

  .hero-left .icon-label{
    grid-column:3;
    justify-self:start;
    text-align:left;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }
}

/* =========================================================
   DESKTOP (>=1100): social SOLO ICONE circolari (NO pill)
   (metti questo blocco come ULTIMO nel CSS)
========================================================= */
@media (min-width: 1100px){

  /* colonna verticale centrata */
  .hero-left .social-row{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap: 12px;
    width:auto;              /* <<< evita stretch */
  }

  /* ogni link torna ad essere un CERCHIO */
  .hero-left .icon-btn--wide{
    width: 42px !important;
    height: 42px !important;
    padding: 0 !important;
    border-radius: 999px !important;

    display:flex !important;
    align-items:center !important;
    justify-content:center !important;
  }

  /* icona centrata */
  .hero-left .icon-btn--wide img{
    width: 20px;
    height: 20px;
  }

  /* nascondi label in desktop */
  .hero-left .icon-btn--wide .icon-label{
    display:none !important;
  }
}
