/* =========================================================
   1) CSS VARIABLES (Design Tokens)
   ---------------------------------------------------------
   Shared values used across themes and components.
========================================================= */
:root{
  --radius:14px;
  --maxw:1200px;
  --shadow:0 10px 30px rgba(0,0,0,.25);

  /* Fallback colors (same as light theme) */
  --bg:     #F5FAFF;
  --panel:  #FFFFFF;
  --text:   #111827;
  --muted:  #6B7280;
  --brand:  #2563EB;
  --accent: #059669;

  /* Softer shadow used by “modern” cards */
  --shadow-soft: 0 10px 28px rgba(0,0,0,.12);

  /* Home layout/tuning variables */
  --topbar-h: 72px;
  --home-gap-mobile: 22px;
  --home-gap-desktop: clamp(18px, 2.2vw, 34px);

  /* Card style (theme-tuned below) */
  --card-border: rgba(0,0,0,.08);
  --card-bg: rgba(255,255,255,.68);
  --card-shadow: 0 14px 34px rgba(0,0,0,.10);
}

/* =========================================================
   2) THEME OVERRIDES
   ---------------------------------------------------------
   Only override semantic variables (colors, shadows, etc.).
========================================================= */

/* LIGHT THEME – Soft Blue minimal */
html[data-theme="light"]{
  --bg: #f5f7fa;
  --panel: #ffffff;
  --text: #1f2937;
  --muted: #6b7280;
  --brand: #2563eb;
  --accent: #1d9d74; /* green accent (if needed) */
}

/* DARK THEME – Minimal Gemini */
html[data-theme="dark"]{
  --bg: #1a1b1e;
  --panel: #232427;
  --text: #f5f5f5;
  --muted: #a0a0a5;
  --brand: #4fc3f7;
  --accent: #82b1ff;

  /* Card tuning in dark */
  --card-border: rgba(255,255,255,.10);
  --card-bg: rgba(35,36,39,.70);
  --card-shadow: 0 18px 46px rgba(0,0,0,.45);
}

/* =========================================================
   3) SCROLLBAR VISIBILITY
   ---------------------------------------------------------
   Hide scrollbars but keep scrolling enabled.
========================================================= */
html{
  scrollbar-width:none; /* Firefox */
}

html::-webkit-scrollbar{
  width:0;
  height:0; /* Chrome / Edge / Safari */
}

/* =========================================================
   4) BASE / RESET
   ---------------------------------------------------------
   Minimal reset + app layout baseline.
========================================================= */
html,body{ height:100%; }

/* Safety: prevent horizontal scroll from small overflows */
html, body{ overflow-x:hidden; }

*, *::before, *::after{ box-sizing:border-box; }

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  line-height:1.6;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

/* Make <main> grow to push footer down */
main{
  flex:1;
  width:100%;
}

img{
  max-width:100%;
  display:block;
}

/* =========================================================
   5) GENERIC LAYOUT UTILITIES
   ---------------------------------------------------------
   Reusable helpers for layout and grids (desktop-first).
========================================================= */
.container{ width:min(100% - 2.5rem,var(--maxw)); margin-inline:auto; }
.row{ display:flex; gap:1rem; align-items:center; flex-wrap:wrap; }
.space-between{ justify-content:space-between; }

.grid{ display:grid; gap:1rem; }
.grid-3{ grid-template-columns:repeat(3,minmax(0,1fr)); }

.two-col{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:2rem;
}

/* =========================================================
   6) GENERIC UI COMPONENTS
   ---------------------------------------------------------
   Buttons, badges, cards, tags, inputs.
========================================================= */
.btn{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.75rem 1.1rem;
  border-radius:calc(var(--radius) - 4px);
  background:var(--brand);
  color:#fff;
  border:none;
  box-shadow:0 3px 10px rgba(0,0,0,.15);
  font-weight:600;
  text-decoration:none;
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

.btn:hover{
  text-decoration:none;
  transform:translateY(-1px);
  filter:brightness(1.08);
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

/* Outline variant */
.btn-outline{
  background:transparent;
  color:var(--text);
  box-shadow:none;
}

/* Small pill badge */
.badge{
  display:inline-block;
  padding:.3rem .6rem;
  border-radius:999px;
  background:rgba(79,70,229,.14);
  color:#cdd0ff;
  font-weight:600;
  font-size:.85rem;
}

/* Generic “card” look (used in various places) */
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  padding:1rem;
  box-shadow:var(--shadow);
}

/* Text input */
.input{
  padding:.6rem .8rem;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(17,19,26,.6);
  color:var(--text);
}

/* Tags */
.tags{ display:flex; flex-wrap:wrap; gap:.4rem; }
.tag{
  padding:.25rem .55rem;
  border:1px solid rgba(255,255,255,.2);
  border-radius:999px;
  font-size:.85rem;
  color:#cfe7d7;
}

/* =========================================================
   7) TYPOGRAPHY & GENERIC SECTIONS
========================================================= */
.hero{ padding:4.5rem 0 3rem; }
.hero h1{ font-size:clamp(2.2rem,2.5vw,3rem); line-height:1.15; margin:.2rem 0; }

.kicker{ color:var(--muted); font-size:1rem; }
.section{ margin:2.2rem 0; }

/* =========================================================
   8) CONTENT PATTERNS (lists, timeline, publications)
========================================================= */
.list{ display:grid; gap:.9rem; }

.timeline{ position:relative; }
.timeline::before{
  content:"";
  position:absolute;
  left:.5rem;
  top:0;
  bottom:0;
  width:2px;
  background:rgba(255,255,255,.15);
}

.tl-item{ position:relative; padding-left:2rem; }
.tl-dot{
  position:absolute;
  left:.2rem;
  top:.4rem;
  width:.7rem;
  height:.7rem;
  border-radius:50%;
  background:var(--accent);
}

.pub-card{
  display:grid;
  gap:.35rem;
  padding:1rem;
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
}

.pub-meta{ color:var(--muted); font-size:.98rem; }

.toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  align-items:center;
  margin:.6rem 0;
}

/* =========================================================
   9) SITE CHROME (header/footer/topbar/nav)
   ---------------------------------------------------------
   Global UI that appears across pages.
========================================================= */

/* --- Sticky header wrapper (if used) --- */
.site-header{
  position:sticky;
  top:0;
  z-index:40;
  background:var(--bg);
  border-bottom:1px solid rgba(15,23,42,.06);
  backdrop-filter:blur(4px);
}
html[data-theme="dark"] .site-header{
  border-bottom-color:rgba(255,255,255,.08);
}

/* --- Footer --- */
.site-footer{
  margin-top:2rem;
  border-top:1px solid rgba(0,0,0,.04);
  padding:.9rem 0;
  color:var(--muted);
  background:var(--panel);
  font-size:.9rem;
}
html[data-theme="dark"] .site-footer{
  border-top-color:rgba(255,255,255,.08);
}

.footer-content{
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:.7rem;
}

.footer-center{ text-align:center; }
.footer-center small{
  color:var(--muted);
  font-size:.8rem;
}

/* Social icons in footer */
.footer-left{
  display:flex;
  align-items:center;
  gap:.5rem;
}

.footer-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:26px;
  height:26px;
  border-radius:6px;
  transition:transform .18s ease, opacity .18s ease;
}

.footer-icon img{
  width:20px;
  height:20px;
  opacity:.85;
}

/* GitHub: white in dark mode */
html[data-theme="dark"] .footer-icon img.github-icon{
  filter:invert(1);
}

.footer-icon:hover img{
  opacity:1;
  transform:scale(1.05);
}

.footer-right{
  display:flex;
  align-items:center;
  gap:.4rem;
}

.footer-link{
  color:var(--muted);
  text-decoration:none;
  font-weight:500;
  transition:color .2s ease;
  margin-left:1.2rem;
}
.footer-link:hover{
  color:var(--brand);
}

/* --- Topbar (full-width control bar) --- */
.topbar{
  position:fixed;
  top:0;
  left: 0;
  z-index: 1000;
  width:100%;
  background:var(--panel);
  border-bottom:1px solid rgba(0,0,0,.08);
}
html[data-theme="dark"] .topbar{
  border-bottom-color:rgba(255,255,255,.12);
}

main{
  padding-top: var(--topbar-h);
}

/* Inner: full-width (no container max-width) */
.topbar-inner{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:.7rem 1.4rem;
  max-width:100%;
}

/* Left group: hamburger + brand + nav */
.topbar-left{
  display:flex;
  align-items:center;
  gap:1.2rem;
}

/* Right group: language + theme */
.topbar-right{
  display:flex;
  align-items:center;
  gap:.5rem;
}

/* Brand link */
.brand-link{
  font-size:1.3rem;
  font-weight:700;
  letter-spacing:-0.02em;
  text-decoration:none;
  white-space:nowrap;
  color:var(--brand);
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  transition:opacity .2s ease, transform .2s ease;
}
.brand-link:hover{
  opacity:.85;
  transform:translateY(-1px);
}
html[data-theme="dark"] .brand-link{
  color:#f5f5f5;
}

/* Desktop primary nav */
.primary-nav{
  display:flex;
  align-items:center;
  gap:.75rem;
}

.nav-item{
  font-size:.9rem;
  font-weight:600;
  text-decoration:none;
  color:var(--muted);
  padding:.25rem .7rem;
  border-radius:999px;
  border:1px solid transparent;
  transition:background .15s ease, color .15s ease, border-color .15s ease;
}
.nav-item:hover{
  color:var(--text);
  border-color:rgba(0,0,0,.08);
}
html[data-theme="dark"] .nav-item:hover{
  border-color:rgba(255,255,255,.16);
}

/* Active link */
.nav-item.active{
  color:#ffffff;
  background:var(--brand);
  border-color:transparent;
}
html[data-theme="dark"] .nav-item.active{
  color:#0b1120;
}

/* Hamburger toggle (shown on mobile only) */
.nav-toggle{
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  width:34px;
  height:34px;
  border-radius:999px;
  border:1px solid transparent;
  background:transparent;
  padding:0;
  cursor:pointer;
}

.nav-toggle span{
  display:block;
  width:18px;
  height:2px;
  border-radius:999px;
  background:#64748b;
  margin:2px 0;
  transition:transform .18s ease, opacity .18s ease;
}
html[data-theme="dark"] .nav-toggle span{
  background:#e5e7eb;
}

/* Mobile dropdown nav */
.mobile-nav{
  position:fixed;
  top:60px;
  left:0;
  right:0;
  background:var(--panel);
  border-bottom:1px solid rgba(15,23,42,.08);
  padding:.6rem 1.25rem 1rem;
  display:none;
  flex-direction:column;
  gap:.35rem;
  z-index:40;
}
html[data-theme="dark"] .mobile-nav{
  border-bottom-color:rgba(255,255,255,.12);
}

.mobile-nav .nav-item{
  width:max-content;
}
.mobile-nav.open{
  display:flex;
}

/* Topbar small buttons (language/theme wrappers) */
.topbar-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:.35rem .55rem;
  background:transparent;
  border:1px solid rgba(0,0,0,.12);
  border-radius:10px;
  cursor:pointer;
  color:#4b5563; /* icon color (light) */
}
html[data-theme="dark"] .topbar-btn{
  border-color:rgba(255,255,255,.18);
  color:#ffffff;
}

/* Theme icon button (only icon) */
.theme-btn{
  border:none;
  background:transparent;
  padding:.25rem;
  cursor:pointer;
  color:#020617; /* deep “glass black” */
}
html[data-theme="dark"] .theme-btn{
  border:none;
  color:#f8f5ec; /* warm ivory */
}

/* Subtle glow on the SVG icon */
.theme-btn .sunmoon{
  filter:drop-shadow(0 1px 2px rgba(15,23,42,.20));
}
html[data-theme="dark"] .theme-btn .sunmoon{
  filter:drop-shadow(0 0 6px rgba(248,245,236,.35));
}

.theme-btn:focus-visible{
  outline:2px solid var(--brand);
  outline-offset:2px;
}

/* =========================================================
   10) LANGUAGE SWITCHER (dropdown)
========================================================= */
.lang-switch{ position:relative; }

.lang-btn{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
}
.lang-btn .flag{ font-size:1rem; }

.lang-btn .chevron{
  font-size:.7rem;
  opacity:.7;
  margin-left:.1rem;
}

.lang-menu{
  position:absolute;
  top:115%;
  right:0;
  background:var(--panel);
  border-radius:10px;
  border:1px solid rgba(0,0,0,.12);
  padding:.35rem;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:.25rem;
  min-width:90px;
  z-index:100;
}
html[data-theme="dark"] .lang-menu{
  border-color:rgba(255,255,255,.18);
}

.lang-menu[aria-hidden="true"]{ display:none; }

.lang-item{
  display:flex;
  align-items:center;
  gap:.4rem;
  width:100%;
  padding:.35rem .6rem;
  border-radius:8px;
  background:transparent;
  border:1px solid transparent;
  color:var(--text);
  cursor:pointer;
  font-size:.9rem;
}
.lang-item .flag{ font-size:1rem; }

.lang-item.active{
  border-color:var(--brand);
}

/* =========================================================
   11) SUN ↔ MOON ICON (SVG mask transitions)
   ---------------------------------------------------------
   The icon is driven by CSS transforms + SVG mask properties.
========================================================= */
.sunmoon{
  display:block;
  width:20px;
  height:20px;
  transition:transform .35s ease;
}

.sunmoon .sunCore{ transition:transform .40s ease, opacity .40s ease; }
.sunmoon .rays{ transition:opacity .35s ease; }
.sunmoon .raysDiag{ transition:opacity .35s ease; }
.sunmoon .crescent{ transition:opacity .35s ease; }
.sunmoon .cutout{ transition:cx .40s ease, cy .40s ease, r .40s ease; }
.sunmoon rect{ shape-rendering:crispEdges; }

/* Light state */
html[data-theme="light"] .sunmoon{ transform:rotate(0deg); }
html[data-theme="light"] .sunmoon .sunCore{ transform:scale(1); opacity:1; }
html[data-theme="light"] .sunmoon .rays{ opacity:1; }
html[data-theme="light"] .sunmoon .raysDiag{ opacity:1; }
html[data-theme="light"] .sunmoon .crescent{ opacity:0; }
html[data-theme="light"] .sunmoon .cutout{ cx:28px; cy:-4px; r:9px; }

/* Dark state */
html[data-theme="dark"] .sunmoon{ transform:rotate(18deg); }
html[data-theme="dark"] .sunmoon .sunCore{ transform:scale(.95); opacity:.9; }
html[data-theme="dark"] .sunmoon .rays{ opacity:0; }
html[data-theme="dark"] .sunmoon .raysDiag{ opacity:0; }
html[data-theme="dark"] .sunmoon .crescent{ opacity:1; }
html[data-theme="dark"] .sunmoon .cutout{ cx:14px; cy:10px; r:9px; }

/* =========================================================
   12) PAGE: HERO (avatar + name + role lines)
========================================================= */
.hero-avatar{
  width:190px;
  height:190px;
  margin:0 0 1.2rem;
  border-radius:50%;
  overflow:hidden;
  border:3px solid rgba(0,0,0,.06);
  box-shadow:0 10px 30px rgba(15,23,42,.18);
}
html[data-theme="dark"] .hero-avatar{
  border-color:rgba(255,255,255,.08);
  box-shadow:0 10px 30px rgba(0,0,0,.7);
}

.hero-name{
  font-size:clamp(2.1rem,3vw,2.7rem);
  margin:0 .5rem;
  font-weight:800;
  letter-spacing:.04em;
}

.hero-role,
.hero-affil-line{
  margin:0;
  padding:0;
  color:var(--muted);
  line-height:1.25;
}
.hero-role{ font-size:1rem; }
.hero-affil-line{ font-size:.95rem; }

.hero-role,
.hero-affil-line{ margin-top:.28rem; }

.hero-name + .hero-role{ margin-top:.30rem; }

.hero-role + .hero-affil .hero-affil-line:first-child{
  margin-top:.30rem;
}

.hero-tagline{
  margin:.4rem 0 1.1rem;
  font-size:.9rem;
  color:var(--muted);
}

/* =========================================================
   13) SOCIAL BUTTONS (generic)
========================================================= */
.social-row{
  display:flex;
  justify-content:center;
  gap:.7rem;
  margin-top:1rem;
  margin-bottom:1.8rem;
}

.icon-btn{
  width:42px;
  height:42px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.12);
  background:var(--panel);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--brand);
  box-shadow:0 3px 8px rgba(0,0,0,.12);
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease, background .25s ease;
}
.icon-btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.1);
  box-shadow:0 6px 14px rgba(0,0,0,.18);
}

html[data-theme="dark"] .icon-btn{
  background:#ffffff;
  border-color:rgba(255,255,255,.2);
  color:#000000;
}

.icon-btn img{
  width:20px;
  height:20px;
  display:block;
  filter:none;
}

html[data-theme="dark"] .icon-btn:hover{
  background:#f2f2f2;
}

.icon-text{
  font-size:.9rem;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.06em;
}

/* “Wide” variant used in some layouts */
.icon-btn--wide{
  width:100%;
  height:42px;
  border-radius:999px;
  justify-content:flex-start;
  align-items:center;
  gap:.6rem;
  padding:0 .85rem 0 .55rem;
  text-decoration:none;
}

.icon-btn--wide img{
  width:18px;
  height:18px;
  flex:0 0 auto;
}

.icon-label{
  display:inline-block;
  font-size:.92rem;
  font-weight:600;
  color:var(--text);
  line-height:1;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.social-item{
  display:flex;
  align-items:center;
  gap:.7rem;
}

.social-text{
  font-size:.92rem;
  font-weight:600;
  color:var(--text);
  text-decoration:none;
  white-space:nowrap;
}
.social-text:hover{ text-decoration:underline; }

/* =========================================================
   14) PAGE: CV
========================================================= */
.cv-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:1.5rem;
  margin-top:1.4rem;
}

.cv-card h2{
  margin-top:0;
  margin-bottom:.5rem;
}

.cv-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:.6rem;
  margin-bottom:.8rem;
}

.cv-preview{
  border-radius:var(--radius);
  border:1px solid rgba(0,0,0,.08);
  background:#ffffff;
  overflow:hidden;
  height:520px;
  margin-top:.4rem;
}
html[data-theme="dark"] .cv-preview{
  border-color:rgba(255,255,255,.14);
  background:#111827;
}

.cv-iframe{
  width:100%;
  height:100%;
  border:none;
}

/* --- CV: improve contrast for outline buttons --- */
.cv-buttons .btn,
.cv-buttons .btn-outline{
  background: transparent;
  color: var(--brand);
  border: 2px solid var(--brand);
}

.cv-buttons .btn:hover,
.cv-buttons .btn-outline:hover{
  background: var(--brand);
  color: #ffffff;
}

/* =========================================================
   15) PAGE: HOME (right panels / about)
========================================================= */
.side-kicker{
  font-size:.72rem;
  font-weight:750;
  letter-spacing:.10em;
  text-transform:uppercase;
  color:var(--muted);
  margin-bottom:.35rem;
}

.side-title{
  font-size:1.02rem;
  font-weight:800;
  letter-spacing:-0.01em;
  margin-bottom:.25rem;
  display:flex;
  align-items:center;
  gap:.45rem;
}

.side-title::before{
  content:"";
  width:8px;
  height:8px;
  border-radius:999px;
  background:var(--brand);
  display:inline-block;
  opacity:.95;
}

.side-text{
  font-size:.92rem;
  line-height:1.35;
  color:var(--text);
  opacity:.92;
}

/* About text block */
.about-body{
  margin:0;
  font-size:1.05rem;
  line-height:1.8;
  color:var(--text);
}
.about-body p{ margin:0 0 .9rem; }
.about-body strong{ font-weight:600; }

/* =========================================================
   16) PAGE: HOME LAYOUT (default/mobile-first)
   ---------------------------------------------------------
   Desktop behaviour is defined in media queries at bottom.
========================================================= */

/* Mobile default: one column, centered */
.hero-home{
  width:100%;
  margin:0;
  display:grid;
  grid-template-columns:1fr;
  grid-template-areas:
    "left"
    "side"
    "center";
  row-gap:var(--home-gap-mobile);
  justify-items:center;
  align-items:start;
}

/* Assign areas (mobile order) */
.hero-left{  grid-area:left; }
.hero-side{  grid-area:side; }
.hero-center{ grid-area:center; }


/* Disable sticky by default (mobile) */
.hero-left,
.hero-center,
.hero-side{
  position:static;
  top:auto;
  width:100%;
  min-width:0;
}

/* Left column block */
.hero-left{
  max-width:560px;
  margin-inline:auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}

.hero-left .hero-avatar{
  margin:0 auto 1.2rem;
}

.hero-left .social-row{
  justify-content:center;
}

/* Wide social buttons on mobile: centered, not full stretch */
.hero-left .icon-btn--wide{
  width:auto;
  min-width:220px;
  justify-content:center;
}

/* Center column */
.hero-center{
  max-width:560px;
  margin-inline:auto;
  padding:0;
}

/* No vertical divider lines on mobile */
.hero-center::before,
.hero-center::after{
  display:none !important;
}

/* About card (mobile) */
.about-card{
  border-radius:calc(var(--radius) + 6px);
  border:1px solid var(--card-border);
  background:var(--card-bg);
  box-shadow:var(--card-shadow);
  backdrop-filter:blur(10px);
  padding:1.25rem 1.25rem 1.05rem;
  margin-bottom:18px;
}

.about-title{
  margin:0 0 .85rem;
  letter-spacing:-0.02em;
  font-weight:850;
}

.hero-center .about-body{
  margin:0;
  line-height:1.8;
}

/* Right column panels (mobile) */
.hero-side{
  max-width:560px;
  margin-inline:auto;
  margin-top:8px;
  display:flex;
  justify-content:center;
}

.side-panel{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:14px;
  align-items:center;
}

.side-card{
  width:100%;
  border-radius:16px;
  border:1px solid var(--card-border);
  background:var(--card-bg);
  box-shadow:var(--card-shadow);
  backdrop-filter:blur(10px);
  padding:1.05rem 1.1rem;
  text-align:center;
  transform:translateY(0);
  transition:transform .18s ease, box-shadow .18s ease, filter .18s ease;
}
.side-card:hover{
  transform:translateY(-2px);
  filter:brightness(1.02);
}

/* On mobile we center the title “dot + text” */
.side-title{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:.45rem;
  margin-bottom:.25rem;
}

/* =========================================================
  17) PAGE: EDUCATION & EXPERIENCE (split modern layout)
========================================================= */

.page-head{
  margin-bottom: 1rem;
}

.page-subtitle{
  margin-top: .35rem;
  color: var(--muted);
  max-width: 70ch;
}

/* Education structured fields */

.edu-spec{
  margin-top: .35rem;
  font-size: .95rem;
  line-height: 1.45;
  font-style: italic;
  color: var(--muted);
}

.edu-line{
  margin-top: .3rem;
  font-size: .95rem;
  line-height: 1.45;
}

.edu-label{
  font-weight: 600;
  margin-right: .25rem;
  color: var(--text);
}

.edu-value{
  color: var(--text);
}

.expedu-split{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.2rem;
  align-items: start;
}

.expedu-panel{
  border-radius: calc(var(--radius) + 4px);
  border: 1px solid var(--card-border);
  background: var(--card-bg);
  box-shadow: var(--card-shadow);
  backdrop-filter: blur(10px);
  padding: 1.1rem 1.1rem .9rem;
}

.expedu-panel-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: .75rem;
  margin-bottom: .7rem;
}

.expedu-panel-head h2{
  margin: 0;
  letter-spacing: -0.02em;
}

.expedu-count{
  font-size: .85rem;
  font-weight: 700;
  color: var(--muted);
  border: 1px solid var(--card-border);
  padding: .2rem .55rem;
  border-radius: 999px;
}

.expedu-timeline{
  margin: 0;
  padding: 0;
  list-style: none;  
}

/* Softer line for this page */
.expedu-timeline.timeline::before{
  left: .55rem;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,0),
    rgba(0,0,0,.12),
    rgba(0,0,0,0)
  );
}
html[data-theme="dark"] .expedu-timeline.timeline::before{
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,.18),
    rgba(255,255,255,0)
  );
}

.expedu-timeline .tl-item{
  padding-left: 2.1rem;
  border-radius: 12px;
  padding-top: .25rem;
  padding-bottom: .25rem;
}

.expedu-timeline .tl-item:hover{
  background: rgba(255,255,255,.04);
}
html[data-theme="light"] .expedu-timeline .tl-item:hover{
  background: rgba(15,23,42,.03);
}

.expedu-timeline .tl-dot{
  top: .55rem;
  width: .72rem;
  height: .72rem;
  box-shadow: 0 0 0 4px rgba(0,0,0,.04);
}
html[data-theme="dark"] .expedu-timeline .tl-dot{
  box-shadow: 0 0 0 4px rgba(255,255,255,.06);
}

@media (max-width: 900px){
  .expedu-split{
    grid-template-columns: 1fr;
  }
}


/* =========================================================
   18) RESPONSIVE RULES (Media Queries)
   ---------------------------------------------------------
   Kept in the SAME relative order as your original blocks,
   but moved together at the end for maintainability.
========================================================= */

/* Desktop switch (>= 1100px): Home 3-column + sticky sides */
@media (min-width:1100px){
  .hero-home{
    width:100vw;
    margin-left:calc(50% - 50vw);
    margin-right:calc(50% - 50vw);
    display:grid;
    grid-template-columns:2fr 5fr 2fr; /* 30 / 40 / 30 */
    grid-template-areas: "left center side";
    column-gap:var(--home-gap-desktop);
    align-items:start;
    padding-left:clamp(14px, 2.0vw, 28px);
    padding-right:clamp(14px, 2.0vw, 28px);
  }

  .hero-left{
    position:sticky;
    top: calc(var(--topbar-h) + 4.5rem);
    justify-self:center;
    max-width:420px;
    display:flex;
    flex-direction:column;
    align-items:center;
    text-align:center;
  }

  .hero-center{
    position:relative;
    justify-self:center;
    max-width:860px;
    padding:0 2.2rem;
  }

  /* Vertical divider lines (desktop only) */
  .hero-center::before,
  .hero-center::after{
    content:"";
    position:absolute;
    top:.6rem;
    bottom:.6rem;
    width:1px;
    opacity:1;
  }

  .hero-center::before{
    left:0;
    background:linear-gradient(
      to bottom,
      rgba(15,23,42,0),
      rgba(15,23,42,.10),
      rgba(15,23,42,0)
    );
  }

  .hero-center::after{
    right:0;
    background:linear-gradient(
      to bottom,
      rgba(15,23,42,0),
      rgba(15,23,42,.10),
      rgba(15,23,42,0)
    );
  }

  html[data-theme="dark"] .hero-center::before,
  html[data-theme="dark"] .hero-center::after{
    background:linear-gradient(
      to bottom,
      rgba(255,255,255,0),
      rgba(255,255,255,.14),
      rgba(255,255,255,0)
    );
  }

  .hero-side{
    position:sticky;
    top: calc(var(--topbar-h) + 4.5rem); 
    justify-self:center;
    max-width:520px;
    padding-bottom:2.2rem;
    margin-top:0;
  }

  .about-card{ margin-bottom:0; }
}

@media (min-width:1600px){
  .hero-home{
    grid-template-columns: 1fr 12fr 1fr;
  }
}

@media (min-width:1600px){
  .hero-center{
    max-width: 1800px; /* oppure 1020px se ti piace più arioso */
  }
}

@media (min-width:1700px){
  .hero-left{ max-width: 360px; }
  .hero-side{ max-width: 420px; }
}

@media (min-width:1700px){
  .hero-center{ padding: 0 1.2rem; }
}

/* Home – Social behaviour: Mobile (<1100): horizontal row + icon-only */
@media (max-width:1099px){
  .hero-left .social-row{
    flex-direction:row;
    justify-content:center;
    align-items:center;
    gap:10px;
    width:auto;
    max-width:none;
  }

  .hero-left .icon-btn--wide{
    width:38px;
    height:38px;
    min-width:0;
    padding:0;
    border-radius:999px;
    justify-content:center;
  }

  .hero-left .icon-btn--wide img{
    width:18px;
    height:18px;
  }

  .hero-left .icon-label{
    display:none !important;
  }
}

/* Home – Mobile sizing: allow panels to stretch more with viewport */
@media (max-width:1099px){
  .hero-left,
  .hero-center,
  .hero-side{
    width:100%;
    max-width:min(920px, calc(100% - 24px));
    padding-inline:0;
    margin-inline:auto;
  }

  .about-card,
  .side-card{
    width:100%;
  }
}

/* Home – Social behaviour: Desktop (>=1100): circle icons only */
@media (min-width:1100px){
  .hero-left .social-row{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;   /* centra ogni riga */
    gap:12px;

    /* larghezza esatta per far stare 3 bottoni per riga:
       3*42 + 2*12 = 150px */
    width:150px;
    margin-inline:auto;       /* centra il blocco nella colonna */
  }

  .hero-left .icon-btn--wide{
    width:42px !important;
    height:42px !important;
    padding:0 !important;
    border-radius:999px !important;
    display:flex !important;
    align-items:center !important;
    justify-content:center !important;
  }

  .hero-left .icon-btn--wide img{
    width:20px;
    height:20px;
  }

  .hero-left .icon-btn--wide .icon-label{
    display:none !important;
  }
}

/* General responsive: mobile layout (<900px) */
@media(max-width:900px){
  .container{ width:min(100% - 1.5rem,var(--maxw)); }
  .hero{ padding:3rem 0 2rem; }
  .two-col{ grid-template-columns:1fr; gap:1.2rem; }
  .grid-3{ grid-template-columns:1fr; }
  .hero h1{ font-size:clamp(1.8rem,6vw,2.4rem); }
}

/* Topbar – Mobile: hide desktop nav, show hamburger */
@media (max-width:768px){
  .primary-nav{ display:none !important; }
  .nav-toggle{ display:inline-flex !important; }

  .mobile-nav{
    top:52px;
    left:0;
    right:0;
  }
}
