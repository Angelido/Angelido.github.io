:root{
  --radius:14px;
  --maxw:1200px;
  --shadow:0 10px 30px rgba(0,0,0,.25);

  /* fallback (stessi del tema light) */
  --bg:     #F5FAFF;
  --panel:  #FFFFFF;
  --text:   #111827;
  --muted:  #6B7280;
  --brand:  #2563EB;
  --accent: #059669;
}

/* LIGHT THEME – blu moderno e leggero */
html[data-theme="light"]{
  --bg:     #F6F9FC;     /* sfondo chiaro, luminoso */
  --panel:  #FFFFFF;     /* topbar e card */
  --text:   #0F172A;     /* testo principale */
  --muted:  #6B7280;     /* testo secondario */
  --brand:  #2563EB;     /* blu moderno (stile Tailwind Blue-600) */
  --accent: #2563EB;     /* stesso blu per coerenza */
}

/* DARK THEME – verde elegante e luminoso */
html[data-theme="dark"]{
  --bg:     #161B22;     /* sfondo tipo GitHub */
  --panel:  #010409;     /* topbar quasi nera */
  --text:   #E6EDF3;
  --muted:  #8B949E;
  --brand:  #00C184;     /* verde smeraldo elegante */
  --accent: #00C184;
}

*{box-sizing:border-box}
html,body{height:100%}

/* base body */
body{
  margin:0;
  background: var(--bg);  /* fallback semplice */
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  line-height:1.6;
}

/* LIGHT: alone solo blu, niente verdino */
html[data-theme="light"] body{
  background:
    radial-gradient(900px 500px at 0% 0%, rgba(37,99,235,.14), transparent 60%),
    var(--bg);
}

/* DARK: nessun gradiente, solo grigio uniforme */
html[data-theme="dark"] body{
  background: var(--bg);
}


img{max-width:100%;display:block}

/* === Layout base: DESKTOP-FIRST === */
.container{width:min(100% - 2.5rem,var(--maxw));margin-inline:auto}
.row{display:flex;gap:1rem;align-items:center;flex-wrap:wrap}
.space-between{justify-content:space-between}
.grid{display:grid;gap:1rem}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.two-col{display:grid;grid-template-columns:1.2fr .8fr;gap:2rem}

.brand{font-weight:800;letter-spacing:.3px}
.nav{display:flex;align-items:center;justify-content:space-between;padding:1rem 0}
.nav-links{display:flex;align-items:center;gap:1rem}
.menu-btn{border:1px solid rgba(255,255,255,.18);background:transparent;border-radius:10px;padding:.5rem .7rem}
.mobile-menu{display:none;padding:.6rem 0 1rem}
.mobile-menu a{display:block;padding:.4rem 0}
.site-header{
  position:sticky;
  top:0;
  z-index:40;
  background:var(--bg); /* stessa base del resto della pagina */
  border-bottom:1px solid rgba(15,23,42,.06);
  backdrop-filter:blur(4px);
}
html[data-theme="dark"] .site-header{
  border-bottom-color:rgba(255,255,255,.08);
}

.site-footer{border-top:1px solid rgba(255,255,255,.08);padding:2rem 0;color:var(--muted)}

.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.1rem;border-radius:calc(var(--radius) - 4px);background:var(--brand);color:#fff;border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow);font-weight:600;text-decoration:none}
.btn:hover{text-decoration:none;filter:brightness(1.05)}
.btn-outline{background:transparent;color:var(--text);box-shadow:none}
.badge{display:inline-block;padding:.3rem .6rem;border-radius:999px;background:rgba(79,70,229,.14);color:#cdd0ff;font-weight:600;font-size:.85rem}
.card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow)}

/* Hero e tipografia (desktop base) */
.hero{padding:4.5rem 0 3rem}
.hero h1{font-size:clamp(2.2rem,2.5vw,3rem);line-height:1.15;margin:.2rem 0}
.kicker{color:var(--muted);font-size:1rem}
.section{margin:2.2rem 0}

/* Liste, timeline e pubblicazioni */
.list{display:grid;gap:.9rem}
.timeline{position:relative}
.timeline::before{content:"";position:absolute;left:.5rem;top:0;bottom:0;width:2px;background:rgba(255,255,255,.15)}
.tl-item{position:relative;padding-left:2rem}
.tl-dot{position:absolute;left:.2rem;top:.4rem;width:.7rem;height:.7rem;border-radius:50%;background:var(--accent)}
.pub-card{display:grid;gap:.35rem;padding:1rem;border:1px solid rgba(255,255,255,.08);border-radius:12px}
.pub-meta{color:var(--muted);font-size:.98rem}
.toolbar{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;margin:.6rem 0}
.input{padding:.6rem .8rem;border-radius:10px;border:1px solid rgba(255,255,255,.16);background:rgba(17,19,26,.6);color:var(--text)}
.tags{display:flex;flex-wrap:wrap;gap:.4rem}
.tag{padding:.25rem .55rem;border:1px solid rgba(255,255,255,.2);border-radius:999px;font-size:.85rem;color:#cfe7d7}

/* === Adattamento MOBILE (< 900px) === */
@media(max-width:900px){
  .container{width:min(100% - 1.5rem,var(--maxw))}
  .hero{padding:3rem 0 2rem}
  .two-col{grid-template-columns:1fr;gap:1.2rem}
  .grid-3{grid-template-columns:1fr}
  .nav-links{gap:.8rem}
  .hero h1{font-size:clamp(1.8rem,6vw,2.4rem)}
}

/* ===== TOPBAR =================================================== */
.topbar{
  position:sticky;
  top:0;
  z-index:50;
  width:100%;
  background: var(--panel);
  border-bottom: 1px solid rgba(0,0,0,.08);
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:.7rem 1.4rem;
}

html[data-theme="dark"] .topbar{
  border-bottom-color: rgba(255,255,255,.12);
}

/* Parte sinistra: hamburger (mobile) + brand + nav (desktop) */
.topbar-left{
  display:flex;
  align-items:center;
  gap:1.2rem;
}

/* Nome in topbar */
.brand-link{
  font-size:1.35rem;
  font-weight:800;
  letter-spacing:.04em;
  text-decoration:none;
  white-space:nowrap;
  color:var(--brand);
  transition:color .2s ease, text-shadow .3s ease;
}

/* leggero bagliore per dare “profondità” */
.brand-link:hover{
  text-shadow:0 0 10px rgba(0,0,0,.1);
  opacity:.95;
}
html[data-theme="dark"] .brand-link:hover{
  text-shadow:0 0 8px rgba(0,193,132,.35);
}

/* Bottoni principali */
.btn{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.75rem 1.1rem;
  border-radius:calc(var(--radius) - 4px);
  background:var(--brand);     /* colore pieno */
  color:#fff;
  border:none;
  box-shadow:0 3px 10px rgba(0,0,0,.15);
  font-weight:600;
  text-decoration:none;
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
}

.btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.08);
  box-shadow:0 6px 18px rgba(0,0,0,.2);
}

/* Menu principale (desktop) */
.primary-nav{
  display:flex;
  align-items:center;
  gap:.75rem;
}

.nav-item{
  font-size:.9rem;
  font-weight:600;
  text-decoration:none;
  color:var(--muted);
  padding:.25rem .7rem;
  border-radius:999px;
  border:1px solid transparent;
  transition:background .15s ease, color .15s ease, border-color .15s ease;
}

.nav-item:hover{
  color:var(--text);
  border-color:rgba(0,0,0,.08);
}

html[data-theme="dark"] .nav-item:hover{
  border-color:rgba(255,255,255,.16);
}

/* Link attivo (pagina corrente) */
.nav-item.active{
  color:#ffffff;
  background:var(--brand);
  border-color:transparent;
}

html[data-theme="dark"] .nav-item.active{
  color:#0b1120;
}

/* Gruppo di destra (lingua + tema) */
.topbar-right{
  display:flex;
  align-items:center;
  gap:.5rem;
}

/* Bottone hamburger (solo mobile) */
.nav-toggle{
  display:none;                  /* di default nascosto (desktop) */
  align-items:center;
  justify-content:center;
  flex-direction:column;         /* <<< le linee vanno in colonna */
  width:34px;
  height:34px;
  border-radius:999px;
  border:1px solid transparent;
  background:transparent;
  padding:0;
  cursor:pointer;
}

.nav-toggle span{
  display:block;
  width:18px;
  height:2px;
  border-radius:999px;
  background:#64748b;
  margin:2px 0;                  /* spazio verticale tra le linee */
  transition:transform .18s ease, opacity .18s ease;
}

html[data-theme="dark"] .nav-toggle span{
  background:#e5e7eb;
}


/* Menu mobile a tendina */
.mobile-nav{
  position:fixed;
  top:60px;       /* circa l’altezza della topbar */
  left:0;
  right:0;
  background:var(--panel);
  border-bottom:1px solid rgba(15,23,42,.08);
  padding:.6rem 1.25rem 1rem;
  display:none;
  flex-direction:column;
  gap:.35rem;
  z-index:40;
}

html[data-theme="dark"] .mobile-nav{
  border-bottom-color:rgba(255,255,255,.12);
}

.mobile-nav .nav-item{
  width:max-content;
}

/* Stato aperto */
.mobile-nav.open{
  display:flex;
}

/* BREAKPOINT: mobile */
@media (max-width: 768px){
  .primary-nav{
    display:none;           /* nascondi nav orizzontale */
  }

  .nav-toggle{
    display:inline-flex;    /* mostra hamburger */
  }

  .topbar{
    padding:.55rem .9rem;
  }

  .mobile-nav{
    top:52px;               /* leggermente più compatto su mobile */
  }
}


.topbar-btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.35rem .55rem;
  background: transparent;
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 10px;
  cursor: pointer;
  color:#4b5563;                 /* colore icona in LIGHT */
}
html[data-theme="dark"] .topbar-btn{
  border-color: rgba(255,255,255,.18);
  color:#ffffff;                 /* icona bianca in DARK */
}
/* Bottone tema “invisibile” (solo icona) + colori moderni */
.theme-btn{
  border:none;
  background:transparent;
  padding:.25rem;
  cursor:pointer;

  /* colore icona in LIGHT: “nero vetro” */
  color:#020617; /* quasi nero, molto profondo */
}

/* Effetto “riflesso”/glow sulla icona tema */
.theme-btn .sunmoon{
  filter: drop-shadow(0 1px 2px rgba(15,23,42,.20));
}

html[data-theme="dark"] .theme-btn .sunmoon{
  filter: drop-shadow(0 0 6px rgba(248,245,236,.35));
}


html[data-theme="dark"] .theme-btn{
  border:none;
  /* colore icona in DARK: “avorio” caldo */
  color:#f8f5ec;
}

/* Focus tastiera: solo piccolo alone */
.theme-btn:focus-visible{
  outline:2px solid var(--brand);
  outline-offset:2px;
}


.lang-switch{
  position:relative;
}

.lang-btn{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
}

.lang-btn .flag{
  font-size:1rem;
}

.lang-btn .chevron{
  font-size:.7rem;
  opacity:.7;
  margin-left:.1rem;
}

.lang-menu{
  position:absolute;
  top:115%;
  right:0;
  background: var(--panel);
  border-radius:10px;
  border:1px solid rgba(0,0,0,.12);
  padding:.35rem;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  gap:.25rem;
  min-width:90px;
  z-index:100;
}

html[data-theme="dark"] .lang-menu{
  border-color: rgba(255,255,255,.18);
}

.lang-menu[aria-hidden="true"]{
  display:none;
}

.lang-item{
  display:flex;
  align-items:center;
  gap:.4rem;
  width:100%;
  padding:.35rem .6rem;
  border-radius:8px;
  background:transparent;
  border:1px solid transparent;
  color:var(--text);
  cursor:pointer;
  font-size:.9rem;
}

.lang-item .flag{
  font-size:1rem;
}

.lang-item.active{
  border-color: var(--brand);
}


/* ===== SUN ↔ MOON (SVG mask) =================================== */
.sunmoon{
  display:block;
  width:20px;          /* larghezza icona */
  height:20px;         /* altezza icona */
  transition: transform .35s ease;
}
.sunmoon .sunCore{ transition: transform .40s ease, opacity .40s ease; }
.sunmoon .rays{ transition: opacity .35s ease; }
.sunmoon .raysDiag{ transition: opacity .35s ease; }     /* NEW */
.sunmoon .crescent{ transition: opacity .35s ease; }
.sunmoon .cutout{ transition: cx .40s ease, cy .40s ease, r .40s ease; }
/* piccoli rettangoli (cardinali) netti sui pixel */
.sunmoon rect{ shape-rendering: crispEdges; }

/* LIGHT: sole pieno; raggi visibili (cardinali + diagonali); luna invisibile */
html[data-theme="light"] .sunmoon{ transform: rotate(0deg); }
html[data-theme="light"] .sunmoon .sunCore{ transform: scale(1); opacity: 1; }
html[data-theme="light"] .sunmoon .rays{ opacity: 1; }
html[data-theme="light"] .sunmoon .raysDiag{ opacity: 1; }   /* NEW */
html[data-theme="light"] .sunmoon .crescent{ opacity: 0; }
html[data-theme="light"] .sunmoon .cutout{ cx: 28px; cy: -4px; r: 9px; }

/* DARK: luna visibile; raggi spenti (tutti) */
html[data-theme="dark"] .sunmoon{ transform: rotate(18deg); }
html[data-theme="dark"] .sunmoon .sunCore{ transform: scale(.95); opacity: .9; }
html[data-theme="dark"] .sunmoon .rays{ opacity: 0; }
html[data-theme="dark"] .sunmoon .raysDiag{ opacity: 0; }    /* NEW */
html[data-theme="dark"] .sunmoon .crescent{ opacity: 1; }
html[data-theme="dark"] .sunmoon .cutout{ cx: 14px; cy: 10px; r: 9px; }

/* ===== HERO CENTRALE ============================================ */

.hero-centered{
  padding:3.5rem 0 2.5rem;
  text-align:center;
}

.hero-avatar{
  width:190px;
  height:190px;
  margin:0 auto 1.2rem;
  border-radius:50%;
  overflow:hidden;
  border:3px solid rgba(0,0,0,.06);
  box-shadow:0 10px 30px rgba(15,23,42,.18);
}

html[data-theme="dark"] .hero-avatar{
  border-color:rgba(255,255,255,.08);
  box-shadow:0 10px 30px rgba(0,0,0,.7);
}

.hero-avatar img{
  width:100%;
  height:100%;
  object-fit:cover;       /* taglia la foto in cerchio con la faccia al centro */
}

.hero-name{
  font-size:clamp(2.1rem,3vw,2.7rem);
  margin:0 .5rem;
  font-weight:800;
  letter-spacing:.04em;
}

.hero-role{
  margin:.4rem 0 1.3rem;
  font-size:1rem;
  color:var(--muted);
}

/* Social icons rotonde */
.social-row{
  display:flex;
  justify-content:center;
  gap:.7rem;
  margin-bottom:1.5rem;
}

/* Bottoni social */
.icon-btn{
  width:42px;
  height:42px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.12);
  background:var(--panel);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--brand);
  box-shadow:0 3px 8px rgba(0,0,0,.12);
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease, background .25s ease;
}

.icon-btn:hover{
  transform:translateY(-1px);
  filter:brightness(1.1);
  box-shadow:0 6px 14px rgba(0,0,0,.18);
}

/* Modalità dark: sfondo bianco per visibilità icone */
html[data-theme="dark"] .icon-btn{
  background:#ffffff;          /* bianco pieno per contrasto */
  border-color:rgba(255,255,255,.2);
  color:#000000;               /* colore di fallback per eventuali SVG neri */
}

.icon-btn img{
  width:20px;
  height:20px;
  display:block;
  filter:none;
}

/* Opzionale: leggera trasparenza hover in dark mode */
html[data-theme="dark"] .icon-btn:hover{
  background:#f2f2f2;
}


.icon-text{
  font-size:.9rem;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.06em;
}
